<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jagd Weetzen - Nachhaltige Jagd in Niedersachsen</title>
    <meta name="description" content="Jagd Weetzen bietet nachhaltige Jagd auf 340 Hektar Wald- und Feldlandschaft in Niedersachsen. Erfahren Sie mehr √ºber Wildarten, Jagdzeiten und Wildfleischverkauf." />
    <meta name="author" content="Jagd Weetzen" />

    <meta property="og:title" content="Jagd Weetzen - Nachhaltige Jagd in Niedersachsen" />
    <meta property="og:description" content="Jagd Weetzen bietet nachhaltige Jagd auf 340 Hektar Wald- und Feldlandschaft in Niedersachsen. Erfahren Sie mehr √ºber Wildarten, Jagdzeiten und Wildfleischverkauf." />
    <meta property="og:type" content="website" />
    
    <style>
      /* Basis-Styles f√ºr Lade-Indikator */
      body {
        margin: 0;
        padding: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f8f9fa;
      }
      
      #loading-indicator {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #f8f9fa;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 9999;
      }
      
      .spinner {
        width: 60px;
        height: 60px;
        border: 4px solid #e3e3e3;
        border-top: 4px solid #4a7c59;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin-bottom: 20px;
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      .loading-text {
        color: #2c5530;
        margin-bottom: 10px;
        font-size: 1.5rem;
        font-weight: bold;
      }
      
      .loading-subtitle {
        color: #666;
        text-align: center;
        margin-bottom: 20px;
      }
      
      .loading-links {
        color: #999;
        font-size: 0.9em;
        text-align: center;
      }
      
      .loading-links a {
        color: #4a7c59;
        text-decoration: none;
      }
      
      .loading-links a:hover {
        text-decoration: underline;
      }
      
      /* Verstecke Root-Element bis React l√§dt */
      #root:empty {
        display: none;
      }
      
      #root:not(:empty) {
        display: block;
      }
    </style>
    <script type="module" crossorigin src="/assets/index-ANtmZGeJ.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-CQZbmO-F.css">
  </head>

  <body>
    <!-- Lade-Indikator -->
    <div id="loading-indicator">
      <div class="spinner"></div>
      <h2 class="loading-text">ü¶å Jagdrevier Weetzen</h2>
      <p class="loading-subtitle">Lade Website...</p>
      <p class="loading-links">
        Falls die Seite nicht l√§dt: 
        <a href="/diagnose.html">Diagnose ausf√ºhren</a> | 
        <a href="/fallback.html">Fallback-Version</a>
      </p>
    </div>
    
    <!-- React-Container -->
    <div id="root"></div>
    
    <script>
      console.log('ü¶å Jagdrevier Weetzen - HTML geladen');
      
      // Globale Variablen
      let loadingRemoved = false;
      let fallbackTimer;
      
      // Entferne Lade-Indikator
      function removeLoadingIndicator() {
        if (!loadingRemoved) {
          const indicator = document.getElementById('loading-indicator');
          if (indicator) {
            indicator.style.display = 'none';
            loadingRemoved = true;
            console.log('‚úÖ Lade-Indikator entfernt');
          }
          
          if (fallbackTimer) {
            clearTimeout(fallbackTimer);
          }
        }
      }
      
      // Pr√ºfe ob React-App geladen ist
      function checkReactApp() {
        const rootElement = document.getElementById('root');
        if (rootElement && rootElement.children.length > 0) {
          console.log('‚úÖ React-App erkannt');
          removeLoadingIndicator();
          return true;
        }
        return false;
      }
      
      // √úberwache React-Container
      function observeReactContainer() {
        const rootElement = document.getElementById('root');
        if (!rootElement) {
          console.error('‚ùå Root-Element nicht gefunden!');
          return;
        }
        
        console.log('üëÄ √úberwache React-Container...');
        
        const observer = new MutationObserver(function(mutations) {
          mutations.forEach(function(mutation) {
            if (mutation.type === 'childList' && mutation.target.id === 'root') {
              if (mutation.target.children.length > 0) {
                console.log('‚úÖ React-Content erkannt');
                removeLoadingIndicator();
                observer.disconnect();
              }
            }
          });
        });
        
        observer.observe(rootElement, { 
          childList: true, 
          subtree: true 
        });
      }
      
      // Fallback-Timer
      function startFallbackTimer() {
        fallbackTimer = setTimeout(function() {
          if (!loadingRemoved) {
            console.warn('‚ö†Ô∏è React-App konnte nicht geladen werden nach 15 Sekunden');
            console.log('üîÑ Weiterleitung zur Fallback-Seite...');
            window.location.href='/fallback.html';
          }
        }, 15000); // 15 Sekunden warten
      }
      
      // Initialisierung
      function initialize() {
        console.log('üöÄ Initialisiere Jagdrevier Website...');
        
        // Pr√ºfe sofort ob React bereits geladen ist
        if (checkReactApp()) {
          return;
        }
        
        // Starte √úberwachung
        observeReactContainer();
        
        // Starte Fallback-Timer
        startFallbackTimer();
        
        // Pr√ºfe periodisch
        const checkInterval = setInterval(function() {
          if (checkReactApp()) {
            clearInterval(checkInterval);
          }
        }, 1000);
      }
      
      // Fehler-Behandlung
      window.addEventListener('error', function(e) {
        console.error('‚ùå JavaScript-Fehler:', e.error);
        console.error('üìç Datei:', e.filename, 'Zeile:', e.lineno);
      });
      
      window.addEventListener('unhandledrejection', function(e) {
        console.error('‚ùå Unbehandelte Promise-Ablehnung:', e.reason);
      });
      
      // Starte wenn DOM bereit ist
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initialize);
      } else {
        initialize();
      }
      
      // Backup: Starte auch nach window.load
      window.addEventListener('load', function() {
        setTimeout(function() {
          if (!loadingRemoved) {
            console.log('üîÑ Backup-Initialisierung...');
            initialize();
          }
        }, 1000);
      });
    </script>
    
    <!-- React-App laden -->
  </body>
</html>